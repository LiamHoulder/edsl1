/*
Deployment script for EDSL1Database

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "EDSL1Database"
:setvar DefaultFilePrefix "EDSL1Database"
:setvar DefaultDataPath ""
:setvar DefaultLogPath ""

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
IF EXISTS (SELECT 1
           FROM   [sys].[databases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [sys].[databases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
PRINT N'Rename refactoring operation with key 7a1bd16f-828d-482d-a61f-31a8ab395bf7 is skipped, element [dbo].[Divisions].[Id] (SqlSimpleColumn) will not be renamed to divCode';


GO
PRINT N'Rename refactoring operation with key 40ab7bc3-cca4-45ab-9e96-7840f8d3ba9c is skipped, element [dbo].[league].[Id] (SqlSimpleColumn) will not be renamed to administrator';


GO
PRINT N'Rename refactoring operation with key c23f81eb-35a6-46a7-a435-cd2b8d97e35a is skipped, element [dbo].[Clubs].[Id] (SqlSimpleColumn) will not be renamed to clubName';


GO
PRINT N'Rename refactoring operation with key bd11e64d-9bc5-47c2-984d-ca38efc2fbe0 is skipped, element [dbo].[Seasons].[Id] (SqlSimpleColumn) will not be renamed to seasonYear';


GO
PRINT N'Rename refactoring operation with key c872c680-521f-4f33-9dec-12161ca33f01 is skipped, element [dbo].[Team].[Id] (SqlSimpleColumn) will not be renamed to teamName';


GO
PRINT N'Rename refactoring operation with key b20bc934-96bb-4be5-bc2b-2ce6e810659e is skipped, element [dbo].[Round].[Id] (SqlSimpleColumn) will not be renamed to roundCode';


GO
PRINT N'Rename refactoring operation with key a742a5df-6f4e-421d-87af-e6bb37ca1f97 is skipped, element [dbo].[Player].[Id] (SqlSimpleColumn) will not be renamed to playerCode';


GO
PRINT N'Rename refactoring operation with key 6a977344-f8fd-4f29-888b-c66bcb88d3dc is skipped, element [dbo].[Game].[Id] (SqlSimpleColumn) will not be renamed to gameCode';


GO
PRINT N'Creating [dbo].[Clubs]...';


GO
CREATE TABLE [dbo].[Clubs] (
    [clubName]       BINARY (50) NOT NULL,
    [clubPresident]  BINARY (50) NULL,
    [groundLocation] BINARY (50) NULL,
    [postalAddress]  BINARY (50) NULL,
    [clubPhone]      BINARY (50) NULL,
    [email]          BINARY (50) NULL,
    [website]        BINARY (50) NULL,
    [dateStarted]    BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([clubName] ASC)
);


GO
PRINT N'Creating [dbo].[Divisions]...';


GO
CREATE TABLE [dbo].[Divisions] (
    [divCode]  BINARY (50) NOT NULL,
    [divGrade] BINARY (50) NULL,
    [sponsor]  BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([divCode] ASC)
);


GO
PRINT N'Creating [dbo].[Game]...';


GO
CREATE TABLE [dbo].[Game] (
    [gameCode]  BINARY (50) NOT NULL,
    [homeTeam]  BINARY (50) NULL,
    [awayTeam]  BINARY (50) NULL,
    [homeGoals] BINARY (50) NULL,
    [awayGoals] BINARY (50) NULL,
    [gameTime]  BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([gameCode] ASC)
);


GO
PRINT N'Creating [dbo].[league]...';


GO
CREATE TABLE [dbo].[league] (
    [administrator] BINARY (50) NOT NULL,
    [email]         BINARY (50) NULL,
    [leagueAddress] BINARY (50) NULL,
    [leagueName]    BINARY (50) NULL,
    [phoneNumber]   BINARY (50) NULL,
    [postalAddress] BINARY (50) NULL,
    [president]     BINARY (50) NULL,
    [website]       BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([administrator] ASC)
);


GO
PRINT N'Creating [dbo].[Player]...';


GO
CREATE TABLE [dbo].[Player] (
    [playerCode]      BINARY (50) NOT NULL,
    [playerName]      BINARY (50) NULL,
    [playerAddress]   BINARY (50) NULL,
    [playerHomePhone] BINARY (50) NULL,
    [playerMoblie]    BINARY (50) NULL,
    [playerDOB]       BINARY (50) NULL,
    [clubName]        BINARY (50) NULL,
    [teamName]        BINARY (50) NULL,
    [playerType]      BINARY (50) NULL,
    [jumperNumber]    BINARY (50) NULL,
    [playerStatus]    BINARY (50) NULL,
    [notes]           BINARY (50) NULL,
    CONSTRAINT [PK_Player] PRIMARY KEY CLUSTERED ([playerCode] ASC)
);


GO
PRINT N'Creating [dbo].[Round]...';


GO
CREATE TABLE [dbo].[Round] (
    [roundCode]   BINARY (50) NOT NULL,
    [roundNumber] BINARY (50) NULL,
    [roundType]   BINARY (50) NULL,
    [roundDate]   BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([roundCode] ASC)
);


GO
PRINT N'Creating [dbo].[Seasons]...';


GO
CREATE TABLE [dbo].[Seasons] (
    [seasonYear]   BINARY (50) NOT NULL,
    [startDate]    BINARY (50) NULL,
    [numRounds]    BINARY (50) NULL,
    [nonPlayWeeks] BINARY (50) NULL,
    [endDate]      BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([seasonYear] ASC)
);


GO
PRINT N'Creating [dbo].[Team]...';


GO
CREATE TABLE [dbo].[Team] (
    [teamName]     BINARY (50) NOT NULL,
    [culbName]     BINARY (50) NULL,
    [rank]         BINARY (50) NULL,
    [seasonYear]   BINARY (50) NULL,
    [captain]      BINARY (50) NULL,
    [coach]        BINARY (50) NULL,
    [contactPhone] BINARY (50) NULL,
    PRIMARY KEY CLUSTERED ([teamName] ASC)
);


GO
/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/


GO

GO
PRINT N'Update complete.';


GO
